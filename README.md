# СКАТ

Данный репозиторий содержит пакет программ для комплексной автоматической обработки житий, составляющих [Санкт-Петербургский корпус агиографических текстов](http://project.phil.spbu.ru/scat/) (СКАТ), а также ряд инструментов для импортирования готовой XML-версии корпуса на платформу, разработанную в рамках проекта [Textométrie](http://textometrie.ens-lyon.fr/), — TXM.

Основной программный блок написан на Python 3.6; установка дополнительных модулей не требуется.

## Основной блок

* **src**: исходные продукты ручной транслитерации житийных текстов, набранные в «альтернативной кодировке» (CP866).
* **grm**: файлы морфологически размеченных житий, разбитые на блоки по 200–300 словоупотреблений.

Рабочие скрипты — **src_to_txt** и **txt_to_xml**.

### src_to_txt

Осуществляет токенизацию исходников житий, содержащихся в папке *src*, и помещает каждый токен на отдельную строку. Результирующие файлы появляются в директории **txt**.

Построчное размещение токенов призвано структурно уподобить неразмеченные тексты размеченным (из папки *grm*), чтобы их дальнейшая обработка протекала единообразно.

### txt_to_xml

Конвертирует токенизированные жития в формат XML и помещает результирующие файлы в директорию **xml**. Словоформы при этом также подвергаются
1. переводу из собственной кодировки СКАТ в Unicode,
2. нормализации (сведению орфографических вариантов).

Для того чтобы конвертировать в XML размеченные жития, необходимо в папке *txt* произвести предварительную замену автоматически сгенерированных файлов результатами конкатенации соответствующих блоков разметки из папки *grm*. Конкатенация произодится по-разному в зависимости от платформы:

```
copy /b DP*.csv DmPrlc.csv (DOS)
cat DP*.csv > DmPrlc.csv (Linux)
```

Также при преобразовании в XML к аннотированным житиям применяется процедура частичной лемматизации; соответствующие данные поступают в атрибуты `@ana` и `@lemma`.

## TXM

Для установки корпуса СКАТ на TXM необходимо

1. установить шрифт AgioUnicode;
2. объединить содержимое папок *xml* и *txm*;
3. запустить процедуру импорта, задействуя режим XTZ.
